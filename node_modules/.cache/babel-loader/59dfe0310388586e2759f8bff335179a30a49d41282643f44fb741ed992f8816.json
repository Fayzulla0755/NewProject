{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Desktop/React/react1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/User/Desktop/React/react1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/User/Desktop/React/react1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import\"./UserPage.css\";import ProductTableBody from\"./ProductTableBody/ProductTableBody\";import axios from\"../../utils/axios\";import{toast}from\"react-toastify\";// import UpdataBuyProducts from \"./UpdataBuyProducts/UpdataBuyProducts\";\nimport Loader from\"../../Components/Loader/Loader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UserPage(){var _useState=useState([\"\"]),_useState2=_slicedToArray(_useState,2),buyProducts=_useState2[0],setBuyProducts=_useState2[1];// const [updata, setUpdata] = useState({ name: \"adasd\", price: \"dads\" });\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var fetching=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return axios.get(\"/product-info-buy\");case 4:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setBuyProducts(data.productInfo);setLoading(false);_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);toast.error(_context.t0.response.data.message);;case 14:case\"end\":return _context.stop();}},_callee,null,[[1,10]]);}));return function fetching(){return _ref.apply(this,arguments);};}();fetching();},[]);var buyProductDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var _yield$axios$delete,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.delete(\"/product-info-buy/\"+id);case 3:_yield$axios$delete=_context2.sent;data=_yield$axios$delete.data;toast.success(data.message);_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);toast.error(_context2.t0.response.data.message);case 11:case\"end\":return _context2.stop();}},_callee2,null,[[0,8]]);}));return function buyProductDelete(_x){return _ref2.apply(this,arguments);};}();// const buyProductUpdate = (index) => {\n//     document.querySelector(\".update-modal-body\").style.display = \"flex\";\n//     setUpdata(buyProducts[index]);\n// };\n// Update qismi\n// const changeHandlerUpdata = (e) => {\n//     const { name, value } = e.target;\n//     setUpdata((prev) => ({\n//         ...prev,\n//         [name]: value,\n//     }));\n// };\n// const submitUpdata = async (e) => {\n//     e.preventDefault();\n//     try {\n//         const { data } = await axios.put(\n//             \"/product-info-buy\",\n//             updata\n//         );\n//         document.querySelector(\".update-modal-body\").style.display = \"none\";\n//         toast(data.message);\n//     } catch (err) {\n//         console.log(err);\n//     }\n// };\nreturn/*#__PURE__*/_jsx(\"main\",{className:\"user-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"usertable\",children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover  table-striped  table-warning\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Prise\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Edit\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:buyProducts.map(function(data,index){return/*#__PURE__*/_jsx(ProductTableBody,{buyProductDelete:buyProductDelete// buyProductUpdate={buyProductUpdate}\n,data:data,index:index},data._id);})})]})})});}export default UserPage;","map":{"version":3,"names":["React","useEffect","useState","ProductTableBody","axios","toast","Loader","UserPage","buyProducts","setBuyProducts","loading","setLoading","fetching","get","data","productInfo","error","response","message","buyProductDelete","id","delete","success","map","index","_id"],"sources":["C:/Users/User/Desktop/React/react1/src/pages/UserPage/UserPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./UserPage.css\";\r\nimport ProductTableBody from \"./ProductTableBody/ProductTableBody\";\r\nimport axios from \"../../utils/axios\";\r\nimport { toast } from \"react-toastify\";\r\n// import UpdataBuyProducts from \"./UpdataBuyProducts/UpdataBuyProducts\";\r\nimport Loader from \"../../Components/Loader/Loader\";\r\nfunction UserPage() {\r\n    const [buyProducts, setBuyProducts] = useState([\"\"]);\r\n    // const [updata, setUpdata] = useState({ name: \"adasd\", price: \"dads\" });\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const fetching = async () => {\r\n            setLoading(true);\r\n            try {\r\n                const { data } = await axios.get(\"/product-info-buy\");\r\n                setBuyProducts(data.productInfo);\r\n                setLoading(false);\r\n            } catch (err) {\r\n                toast.error(err.response.data.message);;\r\n            }\r\n        };\r\n        fetching();\r\n    }, []);\r\n    const buyProductDelete = async (id) => {\r\n        try {\r\n            const { data } = await axios.delete(\"/product-info-buy/\" + id);\r\n            toast.success(data.message);\r\n        } catch (err) {\r\n            toast.error(err.response.data.message);\r\n        }\r\n    };\r\n    // const buyProductUpdate = (index) => {\r\n    //     document.querySelector(\".update-modal-body\").style.display = \"flex\";\r\n\r\n    //     setUpdata(buyProducts[index]);\r\n    // };\r\n    // Update qismi\r\n\r\n    // const changeHandlerUpdata = (e) => {\r\n    //     const { name, value } = e.target;\r\n    //     setUpdata((prev) => ({\r\n    //         ...prev,\r\n    //         [name]: value,\r\n    //     }));\r\n    // };\r\n\r\n    // const submitUpdata = async (e) => {\r\n    //     e.preventDefault();\r\n    //     try {\r\n    //         const { data } = await axios.put(\r\n    //             \"/product-info-buy\",\r\n    //             updata\r\n    //         );\r\n    //         document.querySelector(\".update-modal-body\").style.display = \"none\";\r\n    //         toast(data.message);\r\n    //     } catch (err) {\r\n    //         console.log(err);\r\n    //     }\r\n    // };\r\n    return (\r\n        <main className=\"user-container\">\r\n            <div className=\"usertable\">\r\n                {loading ? (\r\n                    <Loader />\r\n                ) : (\r\n                    <table className=\"table table-hover  table-striped  table-warning\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th scope=\"col\">#</th>\r\n                                <th scope=\"col\">Name</th>\r\n                                <th scope=\"col\">Prise</th>\r\n\r\n                                <th scope=\"col\">Edit</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {buyProducts.map((data, index) => (\r\n                                <ProductTableBody\r\n                                    buyProductDelete={buyProductDelete}\r\n                                    // buyProductUpdate={buyProductUpdate}\r\n                                    key={data._id}\r\n                                    data={data}\r\n                                    index={index}\r\n                                />\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                )}\r\n            </div>\r\n            {/* <UpdataBuyProducts\r\n                changeHandlerUpdata={changeHandlerUpdata}\r\n                submitUpdata={submitUpdata}\r\n                data={updata}\r\n            /> */}\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default UserPage;\r\n"],"mappings":"wXAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,gBAAgB,CACvB,MAAOC,iBAAgB,KAAM,qCAAqC,CAClE,MAAOC,MAAK,KAAM,mBAAmB,CACrC,OAASC,KAAK,KAAQ,gBAAgB,CACtC;AACA,MAAOC,OAAM,KAAM,gCAAgC,CAAC,wFACpD,QAASC,SAAQ,EAAG,CAChB,cAAsCL,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,wCAA7CM,WAAW,eAAEC,cAAc,eAClC;AACA,eAA8BP,QAAQ,CAAC,KAAK,CAAC,yCAAtCQ,OAAO,eAAEC,UAAU,eAE1BV,SAAS,CAAC,UAAM,CACZ,GAAMW,SAAQ,4FAAG,8JACbD,UAAU,CAAC,IAAI,CAAC,CAAC,sCAEUP,MAAK,CAACS,GAAG,CAAC,mBAAmB,CAAC,uCAA7CC,IAAI,kBAAJA,IAAI,CACZL,cAAc,CAACK,IAAI,CAACC,WAAW,CAAC,CAChCJ,UAAU,CAAC,KAAK,CAAC,CAAC,iFAElBN,KAAK,CAACW,KAAK,CAAC,YAAIC,QAAQ,CAACH,IAAI,CAACI,OAAO,CAAC,CAAC,CAAC,oEAE/C,kBATKN,SAAQ,0CASb,CACDA,QAAQ,EAAE,CACd,CAAC,CAAE,EAAE,CAAC,CACN,GAAMO,iBAAgB,6FAAG,kBAAOC,EAAE,4LAEHhB,MAAK,CAACiB,MAAM,CAAC,oBAAoB,CAAGD,EAAE,CAAC,2CAAtDN,IAAI,qBAAJA,IAAI,CACZT,KAAK,CAACiB,OAAO,CAACR,IAAI,CAACI,OAAO,CAAC,CAAC,mFAE5Bb,KAAK,CAACW,KAAK,CAAC,aAAIC,QAAQ,CAACH,IAAI,CAACI,OAAO,CAAC,CAAC,qEAE9C,kBAPKC,iBAAgB,6CAOrB,CACD;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBACI,aAAM,SAAS,CAAC,gBAAgB,uBAC5B,YAAK,SAAS,CAAC,WAAW,UACrBT,OAAO,cACJ,KAAC,MAAM,IAAG,cAEV,eAAO,SAAS,CAAC,iDAAiD,wBAC9D,oCACI,mCACI,WAAI,KAAK,CAAC,KAAK,UAAC,GAAC,EAAK,cACtB,WAAI,KAAK,CAAC,KAAK,UAAC,MAAI,EAAK,cACzB,WAAI,KAAK,CAAC,KAAK,UAAC,OAAK,EAAK,cAE1B,WAAI,KAAK,CAAC,KAAK,UAAC,MAAI,EAAK,GACxB,EACD,cACR,uBACKF,WAAW,CAACe,GAAG,CAAC,SAACT,IAAI,CAAEU,KAAK,qBACzB,KAAC,gBAAgB,EACb,gBAAgB,CAAEL,gBAClB;AAAA,CAEA,IAAI,CAAEL,IAAK,CACX,KAAK,CAAEU,KAAM,EAFRV,IAAI,CAACW,GAAG,CAGf,EACL,CAAC,EACE,GAEf,EACC,EAMH,CAEf,CAEA,cAAelB,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}