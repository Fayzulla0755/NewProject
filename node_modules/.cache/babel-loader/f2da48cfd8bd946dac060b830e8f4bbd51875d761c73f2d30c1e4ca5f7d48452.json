{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Desktop/React/react1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/User/Desktop/React/react1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/User/Desktop/React/react1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import\"./Navbar.css\";import{NavLink}from\"react-router-dom\";import axios from\"../../utils/axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Navbar(){var display=false;var activeStyles={color:\"#c76e1af3\"};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var _useState3=useState({email:\"null\",name:\"null\",_id:\"null\"}),_useState4=_slicedToArray(_useState3,2),userData=_useState4[0],setUserDate=_useState4[1];setInterval(function(){setToken(window.localStorage.getItem(\"token\")||false);},1000);var hendlerMenu=function hendlerMenu(){document.querySelector(\".user-menu\").style.display=\"block\";setTimeout(function(){document.querySelector(\".user-menu\").style.display=\"none\";},3000);};var hendlerNavbar=function hendlerNavbar(){if(!display){display=!display;document.querySelector(\".menu-list\").style.display=\"flex\";}else{display=!display;document.querySelector(\".menu-list\").style.display=\"none\";}};var hendlerLogout=function hendlerLogout(){document.querySelector(\".user-menu\").style.display=\"none\";var valid=window.confirm(\"Do you really want to log out?\");if(valid){window.localStorage.clear();}};var hendlerUserInfo=function hendlerUserInfo(){document.querySelector(\".user-info\").style.display=\"block\";document.querySelector(\".user-menu\").style.display=\"none\";setTimeout(function(){document.querySelector(\".user-info\").style.display=\"none\";},3000);};useEffect(function(){var fetching=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/users/profile\");case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setUserDate(data.user);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function fetching(){return _ref.apply(this,arguments);};}();fetching();},[]);return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"menu\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"menu-button\",onClick:hendlerNavbar,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-bars\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"menu-list\",children:[/*#__PURE__*/_jsx(NavLink,{className:\"menu-list-item\",to:\"/\",style:function style(_ref2){var isActive=_ref2.isActive;return isActive?activeStyles:undefined;},children:/*#__PURE__*/_jsx(\"li\",{children:\" Home\"})}),/*#__PURE__*/_jsx(NavLink,{to:\"/products\",className:\"menu-list-item\",style:function style(_ref3){var isActive=_ref3.isActive;return isActive?activeStyles:undefined;},children:\"Products\"}),/*#__PURE__*/_jsx(NavLink,{className:\"menu-list-item\",onClick:function onClick(){document.querySelector(\".modal-body\").style.display=\"flex\";},children:\"Register\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"user-control\",children:token?/*#__PURE__*/_jsxs(\"ul\",{className:\"user-control-list\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/user\",className:\"user-control-list-item menu-list-item\",style:function style(_ref4){var isActive=_ref4.isActive;return isActive?activeStyles:undefined;},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-cart-shopping\"})}),/*#__PURE__*/_jsx(NavLink,{className:\"user-control-list-item  menu-list-item\",onClick:hendlerMenu,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-user\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"user-menu\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"user-menu-item\",onClick:hendlerUserInfo,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-sharp fa-solid fa-circle-info\"}),\" \",\"User Info\"]}),/*#__PURE__*/_jsxs(\"li\",{className:\"user-menu-item\",onClick:hendlerLogout,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-sharp fa-solid fa-right-from-bracket\"}),\" \",\"Logout\"]})]})]}):/*#__PURE__*/_jsx(\"ul\",{className:\"user-control-list\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/\",className:\"user-control-list-item menu-list-item\",children:\"Login\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"user-info\",children:/*#__PURE__*/_jsxs(\"table\",{className:\" ctable table-hover   table-striped table-warning\",children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Id: \"}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:userData._id})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name: \"}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:userData.name})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Email: \"}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:userData.email})]})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","NavLink","axios","Navbar","display","activeStyles","color","token","setToken","email","name","_id","userData","setUserDate","setInterval","window","localStorage","getItem","hendlerMenu","document","querySelector","style","setTimeout","hendlerNavbar","hendlerLogout","valid","confirm","clear","hendlerUserInfo","fetching","get","data","user","console","log","isActive","undefined"],"sources":["C:/Users/User/Desktop/React/react1/src/Components/Navbar/Navbar.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./Navbar.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport axios from \"../../utils/axios\";\r\n\r\nexport default function Navbar() {\r\n    let display = false;\r\n    const activeStyles = {\r\n        color: \"#c76e1af3\",\r\n    };\r\n    const [token, setToken] = useState(false);\r\n    const [userData, setUserDate] = useState({\r\n        email: \"null\",\r\n        name: \"null\",\r\n        _id: \"null\",\r\n    });\r\n\r\n    setInterval(() => {\r\n        setToken(window.localStorage.getItem(\"token\") || false);\r\n    }, 1000);\r\n    const hendlerMenu = () => {\r\n        document.querySelector(\".user-menu\").style.display = \"block\";\r\n        setTimeout(() => {\r\n            document.querySelector(\".user-menu\").style.display = \"none\";\r\n        }, 3000);\r\n    };\r\n    const hendlerNavbar = () => {\r\n        if (!display) {\r\n            display = !display;\r\n            document.querySelector(\".menu-list\").style.display = \"flex\";\r\n        } else {\r\n            display = !display;\r\n            document.querySelector(\".menu-list\").style.display = \"none\";\r\n        }\r\n    };\r\n    const hendlerLogout = () => {\r\n        document.querySelector(\".user-menu\").style.display = \"none\";\r\n        const valid = window.confirm(\"Do you really want to log out?\");\r\n        if (valid) {\r\n            window.localStorage.clear();\r\n        }\r\n    };\r\n\r\n    const hendlerUserInfo = () => {\r\n        document.querySelector(\".user-info\").style.display = \"block\";\r\n        document.querySelector(\".user-menu\").style.display = \"none\";\r\n        setTimeout(() => {\r\n            document.querySelector(\".user-info\").style.display = \"none\";\r\n        }, 3000);\r\n    };\r\n    useEffect(() => {\r\n        const fetching = async () => {\r\n            try {\r\n                const { data } = await axios.get(\"/users/profile\");\r\n\r\n                setUserDate(data.user);\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        };\r\n        fetching();\r\n    }, []);\r\n\r\n    return (\r\n        <nav className=\"navbar\">\r\n            <div className=\"menu\">\r\n                <button className=\"menu-button\" onClick={hendlerNavbar}>\r\n                    <i className=\"fa-solid fa-bars\"></i>\r\n                </button>\r\n                <ul className=\"menu-list\">\r\n                    <NavLink\r\n                        className=\"menu-list-item\"\r\n                        to={\"/\"}\r\n                        style={({ isActive }) =>\r\n                            isActive ? activeStyles : undefined\r\n                        }\r\n                    >\r\n                        <li> Home</li>\r\n                    </NavLink>\r\n                    <NavLink\r\n                        to={\"/products\"}\r\n                        className=\"menu-list-item\"\r\n                        style={({ isActive }) =>\r\n                            isActive ? activeStyles : undefined\r\n                        }\r\n                    >\r\n                        Products\r\n                    </NavLink>\r\n                    <NavLink\r\n                        className=\"menu-list-item\"\r\n                        onClick={() => {\r\n                            document.querySelector(\r\n                                \".modal-body\"\r\n                            ).style.display = \"flex\";\r\n                        }}\r\n                    >\r\n                        Register\r\n                    </NavLink>\r\n                </ul>\r\n            </div>\r\n            <div className=\"user-control\">\r\n                {token ? (\r\n                    <ul className=\"user-control-list\">\r\n                        <NavLink\r\n                            to={\"/user\"}\r\n                            className=\"user-control-list-item menu-list-item\"\r\n                            style={({ isActive }) =>\r\n                                isActive ? activeStyles : undefined\r\n                            }\r\n                        >\r\n                            <i className=\"fa-solid fa-cart-shopping\"></i>\r\n                        </NavLink>\r\n                        <NavLink\r\n                            className=\"user-control-list-item  menu-list-item\"\r\n                            onClick={hendlerMenu}\r\n                        >\r\n                            <i className=\"fa-solid fa-user\"></i>\r\n                        </NavLink>\r\n                        <ul className=\"user-menu\">\r\n                            <li\r\n                                className=\"user-menu-item\"\r\n                                onClick={hendlerUserInfo}\r\n                            >\r\n                                <i className=\"fa-sharp fa-solid fa-circle-info\"></i>{\" \"}\r\n                                User Info\r\n                            </li>\r\n                            <li\r\n                                className=\"user-menu-item\"\r\n                                onClick={hendlerLogout}\r\n                            >\r\n                                <i className=\"fa-sharp fa-solid fa-right-from-bracket\"></i>{\" \"}\r\n                                Logout\r\n                            </li>\r\n                        </ul>\r\n                    </ul>\r\n                ) : (\r\n                    <ul className=\"user-control-list\">\r\n                        <NavLink\r\n                            to={\"/\"}\r\n                            className=\"user-control-list-item menu-list-item\"\r\n                        >\r\n                            Login\r\n                        </NavLink>\r\n                    </ul>\r\n                )}\r\n            </div>\r\n            <div className=\"user-info\">\r\n                <table className=\" ctable table-hover   table-striped table-warning\">\r\n                    <tr>\r\n                        <th >Id: </th>\r\n                        <th scope=\"row\">{userData._id}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <th >Name: </th>\r\n                        <th scope=\"row\">{userData.name}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <th >Email: </th>\r\n                        <th scope=\"row\">{userData.email}</th>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}